<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <!-- Favicons -->
  <link th:href="@{/eterna/assets/img/favicon.png}" rel="icon">
  <link th:href="@{/eterna/assets/img/apple-touch-icon.png}" rel="apple-touch-icon">

  <title>Minutriporcion - Medición Antropométrica para Paciente</title>

  <!-- Custom fonts for this template-->
  <link th:href="@{/sbadmin/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet" type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template-->
  <link th:href="@{/sbadmin/css/sb-admin-2.min.css}" rel="stylesheet">

</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">
    <div th:insert="~{sbadmin/pacientes/sidebar :: sidebar}"></div>
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">
        <div th:insert="~{sbadmin/topbar :: topbar}"></div>
        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">Medición Antropométrica para paciente [[(${paciente != null ? paciente.name : ''})]]</h1>
          </div>

          <!-- Content Row -->
          <div class="row">
            <!-- ANTHROPOMETRIC MEASUREMENT FORM -->
            <div class="col-12">
              <div class="card shadow mb-4">
                <div class="col-sm-10 offset-sm-1">

                  <div class="info-form p-5">
                    <form th:action="@{/admin/pacientes/{pacienteId}/antropometricos(pacienteId=${paciente != null ? paciente.id : 0})}" th:object="${antropometrico}" method="POST">
                      <!-- General Information -->
                      <div class="form-group">
                        <label>Fecha y Hora de la Medición<span style="color:red;">*</span></label>
                        <input type="datetime-local" th:field="*{measurementDateTime}" class="form-control">
                        <span th:if="${#fields.hasErrors('measurementDateTime')}" th:errors="*{measurementDateTime}"></span>
                      </div>
                      <div class="form-group">
                        <label>Título<span style="color:red;">*</span></label>
                        <input type="text" th:field="*{title}" class="form-control" value="Medición Antropométrica">
                        <span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
                      </div>
                      <div class="form-group">
                        <label>Descripción</label>
                        <textarea th:field="*{description}" class="form-control" rows="3"></textarea>
                        <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
                      </div>

                      <!-- Tabs Navigation -->
                      <ul class="nav nav-tabs mt-4 mb-3" id="anthropometricTabs" role="tablist">
                        <li class="nav-item">
                          <a class="nav-link active" id="body-mass-tab" data-toggle="tab" href="#body-mass" role="tab" aria-controls="body-mass" aria-selected="true">
                            <i class="fas fa-weight"></i> Peso/Altura
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="calculation-tab" data-toggle="tab" href="#calculation" role="tab" aria-controls="calculation" aria-selected="false">
                            <i class="fas fa-calculator"></i> Cálculos
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="bioimpedance-tab" data-toggle="tab" href="#bioimpedance" role="tab" aria-controls="bioimpedance" aria-selected="false">
                            <i class="fas fa-wave-square"></i> Bioimpedancia
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="skinfolds-tab" data-toggle="tab" href="#skinfolds" role="tab" aria-controls="skinfolds" aria-selected="false">
                            <i class="fas fa-ruler"></i> Pliegues
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="circumferences-tab" data-toggle="tab" href="#circumferences" role="tab" aria-controls="circumferences" aria-selected="false">
                            <i class="fas fa-circle"></i> Perímetros
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="diameters-tab" data-toggle="tab" href="#diameters" role="tab" aria-controls="diameters" aria-selected="false">
                            <i class="fas fa-arrows-alt-h"></i> Diámetros
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="body-composition-tab" data-toggle="tab" href="#body-composition" role="tab" aria-controls="body-composition" aria-selected="false">
                            <i class="fas fa-percentage"></i> Composición Corporal
                          </a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="notes-tab" data-toggle="tab" href="#notes" role="tab" aria-controls="notes" aria-selected="false">
                            <i class="fas fa-sticky-note"></i> Notas
                          </a>
                        </li>
                      </ul>

                      <!-- Tab Content -->
                      <div class="tab-content" id="anthropometricTabsContent">
                        <!-- Body Mass Tab -->
                        <div class="tab-pane fade show active" id="body-mass" role="tabpanel" aria-labelledby="body-mass-tab">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Peso (Kg.)</label>
                                <input type="number" step="0.01" th:field="*{bodyMass.weight}" class="form-control" min="10" max="200">
                                <span th:if="${#fields.hasErrors('bodyMass.weight')}" th:errors="*{bodyMass.weight}"></span>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Estatura (M.)</label>
                                <input type="number" step="0.01" th:field="*{bodyMass.height}" class="form-control" min="0.5" max="3">
                                <span th:if="${#fields.hasErrors('bodyMass.height')}" th:errors="*{bodyMass.height}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Masa Corporal</label>
                                <input type="number" step="0.01" th:field="*{bodyMass.bodyMassValue}" class="form-control">
                                <span th:if="${#fields.hasErrors('bodyMass.bodyMassValue')}" th:errors="*{bodyMass.bodyMassValue}"></span>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>IMC</label>
                                <input type="number" step="0.01" th:field="*{bodyMass.imc}" class="form-control" readonly>
                                <span th:if="${#fields.hasErrors('bodyMass.imc')}" th:errors="*{bodyMass.imc}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Índice de Grasa Corporal</label>
                                <input type="number" step="0.01" th:field="*{bodyComposition.indiceGrasaCorporal}" class="form-control">
                                <span th:if="${#fields.hasErrors('bodyComposition.indiceGrasaCorporal')}" th:errors="*{bodyComposition.indiceGrasaCorporal}"></span>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Nivel de Peso</label>
                                <select th:field="*{bodyMass.nivelPeso}" class="form-control">
                                  <option value="">Seleccione...</option>
                                  <option th:each="nivel : ${T(com.nutriconsultas.paciente.NivelPeso).values()}" 
                                          th:value="${nivel}" 
                                          th:text="${nivel}"></option>
                                </select>
                                <span th:if="${#fields.hasErrors('bodyMass.nivelPeso')}" th:errors="*{bodyMass.nivelPeso}"></span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Calculation Tab -->
                        <div class="tab-pane fade" id="calculation" role="tabpanel" aria-labelledby="calculation-tab">
                          <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> Los cálculos se actualizan automáticamente cuando se ingresan peso y estatura en la pestaña "Peso/Altura".
                          </div>
                          
                          <!-- BMI Section -->
                          <h5 class="mb-3"><i class="fas fa-weight"></i> Índice de Masa Corporal (BMI)</h5>
                          <div class="row mb-4">
                            <div class="col-md-6">
                              <div class="card">
                                <div class="card-body">
                                  <h6 class="card-title">BMI Clásico (Quetelet)</h6>
                                  <p class="text-muted small mb-2">Fórmula: peso (kg) / estatura² (m)</p>
                                  <div class="form-group mb-2">
                                    <label class="small">Peso (kg):</label>
                                    <input type="number" step="0.01" id="calc-weight" class="form-control form-control-sm" min="10" max="200" placeholder="Ingrese peso">
                                  </div>
                                  <div class="form-group mb-2">
                                    <label class="small">Estatura (m):</label>
                                    <input type="number" step="0.01" id="calc-height" class="form-control form-control-sm" min="0.5" max="3" placeholder="Ingrese estatura">
                                  </div>
                                  <div class="alert alert-light mb-0">
                                    <strong>Resultado:</strong> <span id="classic-bmi-result" class="text-primary">-</span>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="card">
                                <div class="card-body">
                                  <h6 class="card-title">BMI Trefethen (Corregido)</h6>
                                  <p class="text-muted small mb-2">Fórmula: 1.3 × peso (kg) / estatura².⁵ (m)</p>
                                  <div class="form-group mb-2">
                                    <label class="small">Peso (kg):</label>
                                    <input type="number" step="0.01" id="calc-weight-trefethen" class="form-control form-control-sm" min="10" max="200" placeholder="Ingrese peso">
                                  </div>
                                  <div class="form-group mb-2">
                                    <label class="small">Estatura (m):</label>
                                    <input type="number" step="0.01" id="calc-height-trefethen" class="form-control form-control-sm" min="0.5" max="3" placeholder="Ingrese estatura">
                                  </div>
                                  <div class="alert alert-light mb-0">
                                    <strong>Resultado:</strong> <span id="trefethen-bmi-result" class="text-primary">-</span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- BMR Section -->
                          <h5 class="mb-3"><i class="fas fa-fire"></i> Metabolismo Basal (BMR)</h5>
                          <div class="row mb-4">
                            <div class="col-md-6">
                              <div class="card">
                                <div class="card-body">
                                  <h6 class="card-title">Mifflin-St Jeor</h6>
                                  <p class="text-muted small mb-2">
                                    <span th:if="${patientIsMale}">Hombres:</span>
                                    <span th:unless="${patientIsMale}">Mujeres:</span>
                                    BMR = 10 × peso + 6.25 × estatura(cm) - 5 × edad 
                                    <span th:if="${patientIsMale}">+ 5</span>
                                    <span th:unless="${patientIsMale}">- 161</span>
                                  </p>
                                  <div class="form-group mb-2">
                                    <label class="small">Peso (kg):</label>
                                    <input type="number" step="0.01" id="bmr-weight-msj" class="form-control form-control-sm" min="10" max="200" placeholder="Ingrese peso">
                                  </div>
                                  <div class="form-group mb-2">
                                    <label class="small">Estatura (m):</label>
                                    <input type="number" step="0.01" id="bmr-height-msj" class="form-control form-control-sm" min="0.5" max="3" placeholder="Ingrese estatura">
                                  </div>
                                  <div class="form-group mb-2">
                                    <label class="small">Edad (años):</label>
                                    <input type="number" id="bmr-age-msj" class="form-control form-control-sm" min="1" max="150" 
                                           th:value="${patientAge}" 
                                           th:disabled="${patientAge == null}"
                                           placeholder="Ingrese edad">
                                    <small class="text-muted" th:if="${patientAge == null}">Edad no disponible</small>
                                  </div>
                                  <div class="alert alert-light mb-0">
                                    <strong>Resultado:</strong> <span id="msj-bmr-result" class="text-primary">-</span> <small>kcal/día</small>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="card">
                                <div class="card-body">
                                  <h6 class="card-title">Harris-Benedict (Revisado 1990)</h6>
                                  <p class="text-muted small mb-2">
                                    <span th:if="${patientIsMale}">Hombres:</span>
                                    <span th:unless="${patientIsMale}">Mujeres:</span>
                                    <span th:if="${patientIsMale}">BMR = 13.397 × peso + 4.799 × estatura(cm) - 5.677 × edad + 88.362</span>
                                    <span th:unless="${patientIsMale}">BMR = 9.247 × peso + 3.098 × estatura(cm) - 4.330 × edad + 447.593</span>
                                  </p>
                                  <div class="form-group mb-2">
                                    <label class="small">Peso (kg):</label>
                                    <input type="number" step="0.01" id="bmr-weight-hb" class="form-control form-control-sm" min="10" max="200" placeholder="Ingrese peso">
                                  </div>
                                  <div class="form-group mb-2">
                                    <label class="small">Estatura (m):</label>
                                    <input type="number" step="0.01" id="bmr-height-hb" class="form-control form-control-sm" min="0.5" max="3" placeholder="Ingrese estatura">
                                  </div>
                                  <div class="form-group mb-2">
                                    <label class="small">Edad (años):</label>
                                    <input type="number" id="bmr-age-hb" class="form-control form-control-sm" min="1" max="150" 
                                           th:value="${patientAge}" 
                                           th:disabled="${patientAge == null}"
                                           placeholder="Ingrese edad">
                                    <small class="text-muted" th:if="${patientAge == null}">Edad no disponible</small>
                                  </div>
                                  <div class="alert alert-light mb-0">
                                    <strong>Resultado:</strong> <span id="hb-bmr-result" class="text-primary">-</span> <small>kcal/día</small>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- Optional BMR formulas (if lean body mass is available) -->
                          <div class="row mb-4">
                            <div class="col-md-6">
                              <div class="card">
                                <div class="card-body">
                                  <h6 class="card-title">Katch-McArdle</h6>
                                  <p class="text-muted small mb-2">Fórmula: 370 + (21.6 × masa magra (kg))</p>
                                  <p class="text-muted small mb-2"><em>Requiere masa magra (masa libre de grasa)</em></p>
                                  <div class="form-group mb-2">
                                    <label class="small">Masa Magra (kg):</label>
                                    <input type="number" step="0.01" id="lean-mass-km" class="form-control form-control-sm" min="0" placeholder="Ingrese masa magra">
                                  </div>
                                  <div class="alert alert-light mb-0">
                                    <strong>Resultado:</strong> <span id="km-bmr-result" class="text-primary">-</span> <small>kcal/día</small>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="card">
                                <div class="card-body">
                                  <h6 class="card-title">Cunningham</h6>
                                  <p class="text-muted small mb-2">Fórmula: 500 + (22 × masa magra (kg))</p>
                                  <p class="text-muted small mb-2"><em>Requiere masa magra (masa libre de grasa)</em></p>
                                  <div class="form-group mb-2">
                                    <label class="small">Masa Magra (kg):</label>
                                    <input type="number" step="0.01" id="lean-mass-cun" class="form-control form-control-sm" min="0" placeholder="Ingrese masa magra">
                                  </div>
                                  <div class="alert alert-light mb-0">
                                    <strong>Resultado:</strong> <span id="cun-bmr-result" class="text-primary">-</span> <small>kcal/día</small>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Bioimpedance Tab -->
                        <div class="tab-pane fade" id="bioimpedance" role="tabpanel" aria-labelledby="bioimpedance-tab">
                          <h5 class="mb-3">Mediciones de Bioimpedancia</h5>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Bioimpedancia (Ω)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.bioimpedanceValue}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.bioimpedanceValue')}" th:errors="*{bioimpedance.bioimpedanceValue}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Impedancia (Ω)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.impedance}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.impedance')}" th:errors="*{bioimpedance.impedance}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Resistencia (R, Ω)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.resistance}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.resistance')}" th:errors="*{bioimpedance.resistance}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Reactancia (Xc, Ω)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.reactance}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.reactance')}" th:errors="*{bioimpedance.reactance}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Ángulo de fase (°)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.phaseAngle}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.phaseAngle')}" th:errors="*{bioimpedance.phaseAngle}"></span>
                              </div>
                            </div>
                          </div>
                          <hr class="my-4">
                          <h5 class="mb-3">Composición Corporal</h5>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>% Grasa Corporal</label>
                                <input type="number" step="0.1" th:field="*{bioimpedance.bodyFatPercentage}" class="form-control" min="0" max="100">
                                <span th:if="${#fields.hasErrors('bioimpedance.bodyFatPercentage')}" th:errors="*{bioimpedance.bodyFatPercentage}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Masa Grasa (kg)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.fatMass}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.fatMass')}" th:errors="*{bioimpedance.fatMass}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Masa Libre de Grasa (kg)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.fatFreeMass}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.fatFreeMass')}" th:errors="*{bioimpedance.fatFreeMass}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Masa Muscular Esquelética (kg)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.skeletalMuscleMass}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.skeletalMuscleMass')}" th:errors="*{bioimpedance.skeletalMuscleMass}"></span>
                              </div>
                            </div>
                          </div>
                          <hr class="my-4">
                          <h5 class="mb-3">Agua Corporal</h5>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Agua Corporal Total (L)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.totalBodyWaterLiters}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.totalBodyWaterLiters')}" th:errors="*{bioimpedance.totalBodyWaterLiters}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Agua Corporal Total (%)</label>
                                <input type="number" step="0.1" th:field="*{bioimpedance.totalBodyWaterPercentage}" class="form-control" min="0" max="100">
                                <span th:if="${#fields.hasErrors('bioimpedance.totalBodyWaterPercentage')}" th:errors="*{bioimpedance.totalBodyWaterPercentage}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Agua Intracelular (L)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.intracellularWater}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.intracellularWater')}" th:errors="*{bioimpedance.intracellularWater}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Agua Extracelular (L)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.extracellularWater}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.extracellularWater')}" th:errors="*{bioimpedance.extracellularWater}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Relación ECW/ICW</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.ecwIcwRatio}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.ecwIcwRatio')}" th:errors="*{bioimpedance.ecwIcwRatio}"></span>
                              </div>
                            </div>
                          </div>
                          <hr class="my-4">
                          <h5 class="mb-3">Metabolismo</h5>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Metabolismo Basal Estimado (kcal)</label>
                                <input type="number" step="0.01" th:field="*{bioimpedance.estimatedBasalMetabolism}" class="form-control">
                                <span th:if="${#fields.hasErrors('bioimpedance.estimatedBasalMetabolism')}" th:errors="*{bioimpedance.estimatedBasalMetabolism}"></span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Skinfolds Tab -->
                        <div class="tab-pane fade" id="skinfolds" role="tabpanel" aria-labelledby="skinfolds-tab">
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Subescapular</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.subscapularSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.subscapularSkinfold')}" th:errors="*{skinfolds.subscapularSkinfold}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Tríceps</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.tricepsSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.tricepsSkinfold')}" th:errors="*{skinfolds.tricepsSkinfold}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Bíceps</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.bicepsSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.bicepsSkinfold')}" th:errors="*{skinfolds.bicepsSkinfold}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Cresta iliaca</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.iliacCrestSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.iliacCrestSkinfold')}" th:errors="*{skinfolds.iliacCrestSkinfold}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Supraespinal</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.supraespinalSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.supraespinalSkinfold')}" th:errors="*{skinfolds.supraespinalSkinfold}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Abdominal</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.abdominalSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.abdominalSkinfold')}" th:errors="*{skinfolds.abdominalSkinfold}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Muslo frontal</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.frontalThighSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.frontalThighSkinfold')}" th:errors="*{skinfolds.frontalThighSkinfold}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Pantorrilla medial</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.medialCalfSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.medialCalfSkinfold')}" th:errors="*{skinfolds.medialCalfSkinfold}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Axilar medial</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.medialAxillarySkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.medialAxillarySkinfold')}" th:errors="*{skinfolds.medialAxillarySkinfold}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Pectoral</label>
                                <input type="number" step="0.01" th:field="*{skinfolds.pectoralSkinfold}" class="form-control">
                                <span th:if="${#fields.hasErrors('skinfolds.pectoralSkinfold')}" th:errors="*{skinfolds.pectoralSkinfold}"></span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Circumferences Tab -->
                        <div class="tab-pane fade" id="circumferences" role="tabpanel" aria-labelledby="circumferences-tab">
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Cefálico (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.cephalicCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.cephalicCircumference')}" th:errors="*{circumferences.cephalicCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Cuello (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.neckCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.neckCircumference')}" th:errors="*{circumferences.neckCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Mitad del brazo relajado (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.midUpperArmCircumferenceRelaxed}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.midUpperArmCircumferenceRelaxed')}" th:errors="*{circumferences.midUpperArmCircumferenceRelaxed}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Mitad del brazo contraído (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.midUpperArmCircumferenceContracted}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.midUpperArmCircumferenceContracted')}" th:errors="*{circumferences.midUpperArmCircumferenceContracted}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Antebrazo (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.forearmCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.forearmCircumference')}" th:errors="*{circumferences.forearmCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Muñeca (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.wristCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.wristCircumference')}" th:errors="*{circumferences.wristCircumference}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Mesoesternal (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.mesosternalCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.mesosternalCircumference')}" th:errors="*{circumferences.mesosternalCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Umbilical (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.umbilicalCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.umbilicalCircumference')}" th:errors="*{circumferences.umbilicalCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Cintura (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.waistCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.waistCircumference')}" th:errors="*{circumferences.waistCircumference}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Cadera (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.hipCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.hipCircumference')}" th:errors="*{circumferences.hipCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Muslo (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.thighCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.thighCircumference')}" th:errors="*{circumferences.thighCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Muslo medio (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.midThighCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.midThighCircumference')}" th:errors="*{circumferences.midThighCircumference}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Pantorrilla (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.calfCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.calfCircumference')}" th:errors="*{circumferences.calfCircumference}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Tobillo (cm)</label>
                                <input type="number" step="0.01" th:field="*{circumferences.ankleCircumference}" class="form-control">
                                <span th:if="${#fields.hasErrors('circumferences.ankleCircumference')}" th:errors="*{circumferences.ankleCircumference}"></span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Diameters Tab -->
                        <div class="tab-pane fade" id="diameters" role="tabpanel" aria-labelledby="diameters-tab">
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Biacromial (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.biacromialDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.biacromialDiameter')}" th:errors="*{diameters.biacromialDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Biileocrestal (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.biiliocrestalDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.biiliocrestalDiameter')}" th:errors="*{diameters.biiliocrestalDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Longitud del pie (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.footLength}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.footLength')}" th:errors="*{diameters.footLength}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Transverso del tórax (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.transverseThoraxDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.transverseThoraxDiameter')}" th:errors="*{diameters.transverseThoraxDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Anteroposterior del tórax (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.anteroposteriorThoraxDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.anteroposteriorThoraxDiameter')}" th:errors="*{diameters.anteroposteriorThoraxDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Húmero (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.humerusDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.humerusDiameter')}" th:errors="*{diameters.humerusDiameter}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Biestiloideo de la muñeca (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.biestiloidWristDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.biestiloidWristDiameter')}" th:errors="*{diameters.biestiloidWristDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Fémur (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.femurDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.femurDiameter')}" th:errors="*{diameters.femurDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Bimaleolar (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.bimaleolarDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.bimaleolarDiameter')}" th:errors="*{diameters.bimaleolarDiameter}"></span>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Transverso del pie (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.transverseFootDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.transverseFootDiameter')}" th:errors="*{diameters.transverseFootDiameter}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Longitud mano (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.handLength}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.handLength')}" th:errors="*{diameters.handLength}"></span>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label>Transverso de la mano (cm)</label>
                                <input type="number" step="0.01" th:field="*{diameters.transverseHandDiameter}" class="form-control">
                                <span th:if="${#fields.hasErrors('diameters.transverseHandDiameter')}" th:errors="*{diameters.transverseHandDiameter}"></span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Body Composition Tab -->
                        <div class="tab-pane fade" id="body-composition" role="tabpanel" aria-labelledby="body-composition-tab">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Porcentaje de Grasa Corporal (%)</label>
                                <input type="number" step="0.1" th:field="*{bodyComposition.porcentajeGrasaCorporal}" class="form-control" min="0" max="100">
                                <span th:if="${#fields.hasErrors('bodyComposition.porcentajeGrasaCorporal')}" th:errors="*{bodyComposition.porcentajeGrasaCorporal}"></span>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Índice de Grasa Corporal</label>
                                <input type="number" step="0.01" th:field="*{bodyComposition.indiceGrasaCorporal}" class="form-control">
                                <span th:if="${#fields.hasErrors('bodyComposition.indiceGrasaCorporal')}" th:errors="*{bodyComposition.indiceGrasaCorporal}"></span>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label>Porcentaje de Masa Muscular (%)</label>
                                <input type="number" step="0.1" th:field="*{bodyComposition.porcentajeMasaMuscular}" class="form-control" min="0" max="100">
                                <span th:if="${#fields.hasErrors('bodyComposition.porcentajeMasaMuscular')}" th:errors="*{bodyComposition.porcentajeMasaMuscular}"></span>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Notes Tab -->
                        <div class="tab-pane fade" id="notes" role="tabpanel" aria-labelledby="notes-tab">
                          <div class="form-group">
                            <label>Notas</label>
                            <textarea class="form-control" rows="5" th:field="*{notes}"></textarea>
                            <span th:if="${#fields.hasErrors('notes')}" th:errors="*{notes}"></span>
                          </div>
                        </div>
                      </div>

                      <div class="mt-4">
                        <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar Medición Antropométrica</button>
                        <a th:href="@{/admin/pacientes/{id}/historial(id=${paciente != null ? paciente.id : 0})}" class="btn btn-secondary ml-2">Cancelar</a>
                      </div>
                    </form>
                  </div>
                  <br>

                </div>
              </div>
            </div>

          </div>
          <!-- /.container-fluid -->

        </div>
        <!-- End of Main Content -->

        <div th:insert="~{sbadmin/footer :: footer}"></div>

      </div>
      <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Bootstrap core JavaScript-->
    <script th:src="@{/sbadmin/vendor/jquery/jquery.min.js}"></script>
    <script th:src="@{/sbadmin/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

    <!-- Core plugin JavaScript-->
    <script th:src="@{/sbadmin/vendor/jquery-easing/jquery.easing.min.js}"></script>

    <!-- Custom scripts for all pages-->
    <script th:src="@{/sbadmin/js/sb-admin-2.min.js}"></script>

    <!-- Calculation Tab JavaScript -->
    <div th:insert="~{sbadmin/pacientes/calculation-script :: calculationScript(true)}"></div>

</body>

</html>
